"use strict";var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var ScrollDirection=function(){function t(e){_classCallCheck(this,t);var i=e.target,s=void 0===i?window:i,n=e.addClassesTo,a=void 0===n?"body":n,r=e.minInterval,o=void 0===r?25:r;this.minInterval=o,this.target=s,this.addClassesTo=a?document.querySelector(a):a,this.last=0,this.lastHeight=null,this.direction="",this.watch()}return _createClass(t,[{key:"watch",value:function(){var t=this,e=!0,i=function(){return e=!0};this.listener=this.detectDirection.bind(this),this.target.addEventListener("touchstart",i),this.target.addEventListener("touchend",i),this.target.addEventListener("touchmove",i),this.target.addEventListener("scroll",(function(s){e&&(e=!1,t.listener(s),setTimeout(i,t.minInterval))}))}},{key:"stop",value:function(){this.target.removeEventListener("scroll",this.listener)}},{key:"addClasses",value:function(){if(this.addClassesTo&&this.direction){var t=this.addClassesTo,e=this.direction,i="down"==e?"up":"down";t.className=t.className.replace("scroll-direction-"+i,"").replace(/\s\s/gi," ")+" scroll-direction-"+e}}},{key:"onDirectionChange",value:function(){this.addClasses(),this.target.dispatchEvent(new CustomEvent("scrollDirectionChange",{detail:this}))}},{key:"detectDirection",value:function(t){var e=this.target.scrollY||this.target.scrollTop||0,i=this.target==window?document.body.clientHeight:this.target.clientHeight,s=0;"number"!=typeof this.lastHeight&&(this.lastHeight=i),this.lastHeight!=i&&(s=i-this.lastHeight);var n=this.direction;e>this.last+s?n="down":e<this.last+s&&(n="up"),this.last=e,this.lastHeight=i,this.direction!=n&&(this.direction=n,this.onDirectionChange())}}]),t}();